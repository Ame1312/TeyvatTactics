<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tier List - Genshin Build Guide</title>
    <link rel="stylesheet" href="../assets/tier-list.css" />
  </head>
  <body>
    <header class="small-header">
      <div class="overlay"></div>
      <h1>Genshin Tier List</h1>
      <p>Ranking Karakter Terbaik (Versi 5.7)</p>
    </headasdasdader>

    <nav>
      <a href="../halaman-utama/index.html">Home</a>
      <a href="../tier-list/index.html">Tier List</a>
      <a href="../character-builds/index.html">Character Builds</a>
      <a href="../redeem-codes/index.html">Redeem Codes</a>
      <a href="../events/index.html">Events</a>
      <a href="../maps/index.html">Maps</a>
    </nav>

    <div class="container">
      <div class="filter">
        <label for="roleFilter">Filter by Role:</label>
        <select id="roleFilter">
          <option value="all">All</option>
          <option value="dps">DPS</option>
          <option value="subdps">Sub DPS</option>
          <option value="support">Support</option>
          <option value="healer">Healer</option>
        </select>
      </div>

      <div class="tier-section">
        <h2>Tier SS</h2>
        <div class="tier-grid">
          <div class="char-card" data-role="dps">
            <img src="../images/karakter/skirk.png" alt="Skirk" />
            <p><strong>Skirk</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="dps">
            <img src="../images/karakter/arlecchino.png" alt="Arlecchino" />
            <p><strong>Arlecchino</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="dps">
            <img src="../images/karakter/neuvillette.png" alt="Neuvillette" />
            <p><strong>Neuvillette</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="subdps">
            <img src="../images/karakter/xilonen.png" alt="Xilonen" />
            <p><strong>Xilonen</strong><br />Support</p>
          </div>
          <div class="char-card" data-role="support ">
            <img src="../images/karakter/citlali.png" alt="Yae" />
            <p><strong>Citlali</strong><br />Support</p>
          </div>
          <div class="char-card" data-role="dps">
            <img src="../images/karakter/mavuika.png" alt="Raiden Shogun" />
            <p><strong>Mavuika</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="support">
            <img src="../images/karakter/kazuha.png" alt="Kazuha" />
            <p><strong>Kazuha</strong><br />Support</p>
          </div>
        </div>
      </div>

      <div class="tier-section">
        <h2>Tier S</h2>
        <div class="tier-grid">
          <div class="char-card" data-role="dps">
            <img src="../images/karakter/hutao.png" alt="Hu Tao" />
            <p><strong>Hu Tao</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="subdps">
            <img src="../images/karakter/yelan.png" alt="Yelan" />
            <p><strong>Yelan</strong><br />Sub DPS</p>
          </div>
          <div class="char-card" data-role="subdps">
            <img src="../images/karakter/yae.png" alt="Yae" />
            <p><strong>Yae</strong><br />Sub DPS</p>
          </div>
          <div class="char-card" data-role="subdps">
            <img src="../images/karakter/raiden.png" alt="Raiden Shogun" />
            <p><strong>Raiden Shogun</strong><br />Main DPS</p>
          </div>
          <div class="char-card" data-role="support">
            <img src="../images/karakter/kazuha.png" alt="Kazuha" />
            <p><strong>Kazuha</strong><br />Support</p>
          </div>
        </div>
      </div>

      <div class="tier-section">
        <h2>Tier A</h2>
        <div class="tier-grid">
          <div class="char-card" data-role="healer">
            <img src="../images/karakter/baizhu.png" alt="Baizhu" />
            <p><strong>Baizhu</strong><br/>Healer</p>
          </div>
        </div>
      </div>
    </div>

    <footer>
      &copy; 2025 Genshin Build Guide. Fan-made content. Not affiliated with
      miHoYo / HoYoverse.
    </footer>

    <script>
      function shuffleWithAnimation() {
        const cards = Array.from(document.querySelectorAll(".char-card"));

        const firstRects = new Map();
        cards.forEach((card) => {
          firstRects.set(card, card.getBoundingClientRect());
        });

        // Apply your shuffle/filtering here
        // Misal filter berdasarkan role:
        const role = document.getElementById("roleFilter").value;

        cards.forEach((card) => {
          const isMatch = role === "all" || card.dataset.role === role;
          card.classList.toggle("fade-out", !isMatch);
          card.classList.toggle("fade-in", isMatch);
        });

        // Setelah layout berubah
        requestAnimationFrame(() => {
          cards.forEach((card) => {
            const first = firstRects.get(card);
            const last = card.getBoundingClientRect();
            const dx = first.left - last.left;
            const dy = first.top - last.top;

            // Hanya animasi yang tetap visible
            if (!card.classList.contains("fade-out")) {
              card.style.transform = `translate(${dx}px, ${dy}px)`;
              card.style.transition = "transform 0s";

              requestAnimationFrame(() => {
                card.style.transform = "";
                card.style.transition = "transform 0.3s ease";
              });
            }
          });
        });
      }

      document
        .getElementById("roleFilter")
        .addEventListener("change", shuffleWithAnimation);
    </script>
  </body>
</html>
